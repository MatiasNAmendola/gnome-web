(function(){function e(e){var t={},r=Object.getOwnPropertyNames(e),n=r.length;if(n)for(;n--;)t[r[n]]=Object.getOwnPropertyDescriptor(e,r[n]);return t}function t(e){return w.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function r(e,n){var o=r[n||t(e)];return o?o(e):e}function n(e){return-1==O.indexOf(t(e))?Array.prototype.slice.call(e,0):[e]}function o(e,t){return e&&t&&t.length?n(e.querySelectorAll(t)):[]}function i(e){return e.getAttribute?b[e.getAttribute("is")||e.nodeName.toLowerCase()]:!1}function a(e,t){var r=e.nextSibling,n=e.parentNode,o=y.createDocumentFragment(),i=t.call(o.appendChild(e),o)||e;r?n.insertBefore(i,r):n.appendChild(i)}function s(e){if(!e._elementupgraded){var t=i(e);t&&(y.__proto__?e.__proto__=t.prototype:Object.defineProperties(e,t._prototype),e.constructor=t.constructor,e._elementupgraded=!0,e.readyCallback&&e.readyCallback.call(e,t.prototype))}}function c(e){var t=i(e);t?e._elementupgraded?(y.documentElement.contains(e)&&e.insertedCallback&&e.insertedCallback.call(e),l(e)):s(e):l(e)}function l(e){e.childNodes.length&&o(e,g).forEach(function(e){e._elementupgraded||s(e),e.insertedCallback&&e.insertedCallback.call(e)})}function u(e){e._elementupgraded&&(e.removedCallback&&e.removedCallback.call(e),e.childNodes.length&&o(e,g).forEach(function(e){u(e)}))}function d(e,t,r){e._records||(e._records={inserted:[],removed:[]},E?(e._observer=new E(function(t){f(e,t)}),e._observer.observe(e,{subtree:!0,childList:!0,attributes:!!0,characterData:!1})):["Inserted","Removed"].forEach(function(t){e.addEventListener("DOMNode"+t,function(r){r._mutation=!0,e._records[t.toLowerCase()].forEach(function(e){e(r.target,r)})},!1)})),-1==e._records[t].indexOf(r)&&e._records[t].push(r)}function p(e,t,r){var n=e._records;n&&r?n[t].splice(n[t].indexOf(r),1):n[t]=[]}function f(e,t){var r={added:[],removed:[]};t.forEach(function(t){t._mutation=!0;for(var n in r)for(var o=e._records["added"==n?"inserted":"removed"],i=t[n+"Nodes"],a=i.length,s=0;a>s&&-1==r[n].indexOf(i[s]);s++)r[n].push(i[s]),o.forEach(function(e){e(i[s],t)})})}function v(e,t,r,n){n=n||{};var o=y.createEvent("Event");o.initEvent(t,"bubbles"in n?n.bubbles:!0,"cancelable"in n?n.cancelable:!0);for(var i in r)o[i]=r[i];e.dispatchEvent(o)}function m(e,t,r){var n=i(this),o=this.getAttribute(e);r.call(this,e,t),n&&o!=this.getAttribute(e)&&this.attributeChangedCallback&&this.attributeChangedCallback.call(this,e,o)}var h=window,y=document,b={},g=[],_=!1,E=h.MutationObserver||h.WebKitMutationObserver||h.MozMutationObserver,A=y.createElement,C=function(t,r){t=t.toLowerCase();var n,i=t,r=r||{};if(!r.prototype)throw Error("Missing required prototype property for registration of the "+t+" element");if(r.prototype&&!("setAttribute"in r.prototype))throw new TypeError("Unexpected prototype for "+t+" element - custom element prototypes must inherit from the Element interface");if(r.extends){var a=(b[r.extends]||A.call(y,r.extends)).constructor;a!=(h.HTMLUnknownElement||h.HTMLElement)&&(n=r.extends,i='[is="'+t+'"]')}-1==g.indexOf(i)&&g.push(i);var c=b[t]={base:n,constructor:function(){return y.createElement(t)},_prototype:y.__proto__?null:e(r.prototype),prototype:r.prototype};return c.constructor.prototype=c.prototype,_&&o(y,t).forEach(function(e){s(e,!0)}),c.constructor},w={};r.object=function(e){var t={};for(var n in e)t[n]=r(e[n]);return t},r.array=function(e){for(var t=e.length,n=Array(t);t--;)n[t]=r(e[t]);return n};var O=["number","boolean","string","function"],x=!y.register;if(x){y.register=C,y.createElement=function(e){var t=b[e]?b[e].base:null;return element=A.call(y,t||e),t&&element.setAttribute("is",e),s(element),element};var k=Element.prototype.setAttribute;Element.prototype.setAttribute=function(e,t){m.call(this,e,t,k)},removeAttr=Element.prototype.removeAttribute,Element.prototype.removeAttribute=function(e,t){m.call(this,e,t,removeAttr)};var L=function(){d(y.documentElement,"inserted",c),d(y.documentElement,"removed",u),g.length&&o(y,g).forEach(function(e){s(e)}),_=!0,v(y.body,"WebComponentsReady"),v(y.body,"DOMComponentsLoaded"),v(y.body,"__DOMComponentsLoaded__")};"complete"==y.readyState?L():y.addEventListener("interactive"==y.readyState?"readystatechange":"DOMContentLoaded",L)}y.register.__polyfill__={query:o,clone:r,typeOf:t,toArray:n,fireEvent:v,manipulate:a,addObserver:d,removeObserver:p,observerElement:y.documentElement,_parseMutations:f,_insertChildren:window.CustomElements?window.CustomElements.upgradeAll:l,_inserted:c,_createElement:A,_polyfilled:x||window.CustomElements&&!window.CustomElements.hasNative}})(),function(){function e(e,t,r){var n=h.typeOf(r);return"object"==n&&"object"==h.typeOf(e[t])?h.merge(e[t],r):e[t]=h.clone(r,n),e}function t(e,t,r){var n={};for(var o in r)n[o.split(":")[0]]=!0;for(var i in t)n[i.split(":")[0]]||(r[i]=t[i])}function r(e){return e.mixins.forEach(function(r){var n=h.mixins[r];for(var o in n)switch(o){case"lifecycle":case"methods":t(o,n[o],e[o]);break;case"accessors":case"prototype":for(var i in n[o])t(i,n[o],e.accessors);break;case"events":}}),e}function n(e,t,r,n,o,i){var a=r.split(":"),s=a[0];"get"==s?(a[0]=t,e.prototype[t].get=h.applyPseudos(a.join(":"),n[r],e.pseudos)):"set"==s?(a[0]=t,e.prototype[t].set=h.applyPseudos(a.join(":"),o?function(e){i.call(this,e),n[r].call(this,e)}:n[r],e.pseudos)):e.prototype[t][r]=n[r]}function o(e,t){e.prototype[t]={};var r=e.accessors[t],o=r.attribute,i=o&&o.name?o.name.toLowerCase():t,a=null;o&&(e.attributes[i]=o,e.attributes[i].setter=t,a=function(e){var t=this.xtag.attributeNodes[i];(!t||t!=this&&!t.parentNode)&&(t=this.xtag.attributeNodes[i]=o.property?this.xtag[o.property]:o.selector?this.querySelector(o.selector):this);var r=o.boolean?"":e,n=!o.boolean||e!==!1&&null!==e?null===e?"removeAttribute":"setAttribute":"removeAttribute";e!=(o.boolean?this.hasAttribute(i):this.getAttribute(i))&&this[n](i,r),t&&t!=this&&e!=(o.boolean?t.hasAttribute(i):t.getAttribute(i))&&t[n](i,r)});for(var s in r)n(e,t,s,r,o,a);if(o){if(!e.prototype[t].get){var c=(o.boolean?"has":"get")+"Attribute";e.prototype[t].get=function(){return this[c](i)}}e.prototype[t].set||(e.prototype[t].set=a)}}var i=window,a=document,s=function(){},c=/(\w+(?:\([^\)]+\))?)/g,l=/(\w*)(?:\(([^\)]*)\))?/,u=/(\d+)/g,d={action:function(e,t){return e.value.match(u).indexOf(t.keyCode+"")>-1==("keypass"==e.name)}},p=function(e,t){return e.listener.touched?e.listener.touched=!1:(t.type.match("touch")&&(e.listener.touched=!0),void 0)},f=function(e){var t="over"==e;return{base:"OverflowEvent"in i?"overflowchanged":e+"flow",condition:function(r,n){return n.flow=e,n.type==e+"flow"||0===n.orient&&n.horizontalOverflow==t||1==n.orient&&n.verticalOverflow==t||2==n.orient&&n.horizontalOverflow==t&&n.verticalOverflow==t}}},v=function(){var e=i.getComputedStyle(a.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"ms"==t?t.toUpperCase():t,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}(),m=Element.prototype.matchesSelector||Element.prototype[v.lowercase+"MatchesSelector"],h={tags:{},defaultOptions:{pseudos:[],mixins:[],events:{},methods:{},accessors:{},lifecycle:{},attributes:{},prototype:{xtag:{get:function(){return this.__xtag__?this.__xtag__:this.__xtag__={data:{},attributeNodes:{}}}}}},register:function(e,t){var n=e.toLowerCase(),s=h.tags[n]=r(h.merge({},h.defaultOptions,t));for(var c in s.events)s.events[c]=h.parseEvent(c,s.events[c]);for(c in s.lifecycle)s.lifecycle[c.split(":")[0]]=h.applyPseudos(c,s.lifecycle[c],s.pseudos);for(c in s.methods)s.prototype[c.split(":")[0]]={value:h.applyPseudos(c,s.methods[c],s.pseudos)};for(var l in s.accessors)o(s,l);var u=s.lifecycle.attributeChanged;s.prototype.attributeChangedCallback={value:function(e,t){var r=s.attributes[e.toLowerCase()]||{};return r.setter&&(this[r.setter]=r.boolean?this.hasAttribute(e):this.getAttribute(e)),u?u.call(this,e,t):null}};var d=s.lifecycle.created||s.lifecycle.ready;s.prototype.readyCallback={value:function(){var e=this;h.addEvents(this,s.events),s.mixins.forEach(function(t){h.mixins[t].events&&h.addEvents(e,h.mixins[t].events)});var t=d?d.apply(this,h.toArray(arguments)):null;for(var r in s.attributes)this.hasAttribute(r)&&(this[s.attributes[r].setter]=s.attributes[r].boolean?this.hasAttribute(r):this.getAttribute(r));return s.pseudos.forEach(function(t){t.onAdd.call(e,t)}),t}},s.lifecycle.inserted&&(s.prototype.insertedCallback={value:s.lifecycle.inserted}),s.lifecycle.removed&&(s.prototype.removedCallback={value:s.lifecycle.removed});var p=a.register(n,{"extends":t["extends"],prototype:Object.create((t["extends"]?document.createElement(t["extends"]).constructor:i.HTMLElement).prototype,s.prototype)});return p},mixins:{},prefix:v,captureEvents:["focus","blur"],customEvents:{overflow:f("over"),underflow:f("under"),animationstart:{base:["animationstart","oAnimationStart","MSAnimationStart","webkitAnimationStart"]},transitionend:{base:["transitionend","oTransitionEnd","MSTransitionEnd","webkitTransitionEnd"]},tap:{base:["click","touchend"],condition:p},tapstart:{base:["mousedown","touchstart"],condition:p},tapend:{base:["mouseup","touchend"],condition:p},tapenter:{base:["mouseover","touchenter"],condition:p},tapleave:{base:["mouseout","touchleave"],condition:p},tapmove:{base:["mousemove","touchmove"],condition:p}},pseudos:{keypass:d,keyfail:d,delegate:{action:function(e,t){var r=h.query(this,e.value).filter(function(e){return e==t.target||e.contains?e.contains(t.target):!1})[0];return r?e.listener=e.listener.bind(r):!1}},preventable:{action:function(e,t){return!t.defaultPrevented}}},wrap:function(e,t){return function(){var r=h.toArray(arguments),n=e.apply(this,r);return n===!1?!1:t.apply(this,n!==void 0?h.toArray(n):r)}},merge:function(t,r,n){if("string"==h.typeOf(r))return e(t,r,n);for(var o=1,i=arguments.length;i>o;o++){var a=arguments[o];for(var s in a)e(t,s,a[s])}return t},skipTransition:function(e,t,r){var n=v.js+"TransitionDuration";e.style[n]="0.001s",e.style.transitionDuration="0.001s",h.requestFrame(function(){t&&t.call(r),h.requestFrame(function(){e.style[n]="",e.style.transitionDuration=""})})},requestFrame:function(){var e=i.requestAnimationFrame||i[v.lowercase+"RequestAnimationFrame"]||function(e){return i.setTimeout(e,20)};return function(t){return e.call(i,t)}}(),matchSelector:function(e,t){return m.call(e,t)},set:function(e,t,r){e[t]=r,h._polyfilled&&(h.observerElement._observer?h._parseMutations(h.observerElement,h.observerElement._observer.takeRecords()):h._insertChildren(e))},innerHTML:function(e,t){h.set(e,"innerHTML",t)},hasClass:function(e,t){return e.className.split(" ").indexOf(t.trim())>-1},addClass:function(e,t){var r=e.className.trim().split(" ");return t.trim().split(" ").forEach(function(e){~r.indexOf(e)||r.push(e)}),e.className=r.join(" ").trim(),e},removeClass:function(e,t){var r=t.trim().split(" ");return e.className=e.className.trim().split(" ").filter(function(e){return e&&!~r.indexOf(e)}).join(" "),e},toggleClass:function(e,t){return h[h.hasClass(e,t)?"removeClass":"addClass"].call(null,e,t)},query:function(e,t){return h.toArray(e.querySelectorAll(t))},queryChildren:function(e,t){var r=e.id,n=e.id=r||"x_"+(new Date).getTime(),o="#"+n+" > ";t=o+(t+"").replace(",",","+o,"g");var i=e.parentNode.querySelectorAll(t);return r||e.removeAttribute("id"),h.toArray(i)},createFragment:function(e){var t=a.createDocumentFragment();if(e){for(var r=t.appendChild(a.createElement("div")),n=h.toArray(e.nodeName?arguments:!(r.innerHTML=e)||r.children),o=n.length;o--;)t.insertBefore(n[o],r);t.removeChild(r)}return t},applyPseudos:function(e,t,r){var n=t,o={};if(e.match(":"))for(var i=e.match(c),a=i.length;--a;)i[a].replace(l,function(t,i,s){var c=o[a]=Object.create(h.pseudos[i]);if(c.key=e,c.name=i,c.value=s,!c)throw"pseudo not found: "+i;var l=n;n=function(){var t=h.toArray(arguments),r={key:e,name:i,value:s,listener:l};return c.action&&c.action.apply(this,[r].concat(t))===!1?!1:r.listener.apply(this,t)},r&&c.onAdd&&(r.getAttribute?c.onAdd.call(r,c):r.push(c))});for(var s in o)o[s].onCompiled&&(n=o[s].onCompiled(n,o[s]));return n},removePseudos:function(e,t){t._pseudos.forEach(function(t){t.onRemove.call(e,t)})},parseEvent:function(e,t){var r=e.split(":"),n=r.shift(),o=h.merge({base:n,pseudos:"",_pseudos:[],onAdd:s,onRemove:s,condition:s},h.customEvents[n]||{});if(o.type=n+(o.pseudos.length?":"+o.pseudos:"")+(r.length?":"+r.join(":"):""),t){var i=h.applyPseudos(o.type,t,o._pseudos);o.listener=function(){var e=h.toArray(arguments);return o.condition.apply(this,[o].concat(e))===!1?!1:i.apply(this,e)}}return o},addEvent:function(e,t,r){var n="function"==typeof r?h.parseEvent(t,r):r;return n.listener.event=n,n._pseudos.forEach(function(t){t.onAdd.call(e,t)}),n.onAdd.call(e,n,n.listener),h.toArray(n.base).forEach(function(t){e.addEventListener(t,n.listener,h.captureEvents.indexOf(t)>-1)}),n.listener},addEvents:function(e,t){var r={};for(var n in t)r[n]=h.addEvent(e,n,t[n]);return r},removeEvent:function(e,t,r){var n=r.event;n.onRemove.call(e,n,r),h.removePseudos(e,n),h.toArray(n.base).forEach(function(t){e.removeEventListener(t,r)})},removeEvents:function(e,t){for(var r in t)h.removeEvent(e,r,t[r])}};h.typeOf=a.register.__polyfill__.typeOf,h.clone=a.register.__polyfill__.clone,h.merge(h,a.register.__polyfill__),"function"==typeof define&&define.amd?define(h):i.xtag=h}();